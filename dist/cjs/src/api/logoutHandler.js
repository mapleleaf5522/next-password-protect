"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../node_modules/tslib/tslib.es6.js"),o=require("./sendJson.js"),r=require("./setCookie.js");exports.logoutHandler=function(t){return function(n,i){return e.__awaiter(void 0,void 0,void 0,(function(){return e.__generator(this,(function(e){i.setHeader("Content-Type","application/json");try{if("POST"!==n.method)throw new Error("Invalid method.");r.setCookie(i,(null==t?void 0:t.cookieName)||"next-password-protect","",{httpOnly:!0,sameSite:(null==t?void 0:t.cookieSameSite)||!1,secure:void 0!==(null==t?void 0:t.cookieSecure)?null==t?void 0:t.cookieSecure:"production"===process.env.NODE_ENV,path:"/",maxAge:0}),o.sendJson(i,200)}catch(e){o.sendJson(i,500,{message:e.message||"An error has occured."})}return[2]}))}))}};
//# sourceMappingURL=logoutHandler.js.map
