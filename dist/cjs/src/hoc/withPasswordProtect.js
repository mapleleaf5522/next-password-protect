"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../node_modules/@babel/runtime/helpers/esm/extends.js"),t=require("../../node_modules/tslib/tslib.es6.js"),r=require("react"),n=require("next/amp"),o=require("next/dist/client/router"),u=require("./LoginComponent.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(r);exports.withPasswordProtect=function(i,s){return function(a){var d,c,p=a.Component,f=a.pageProps,v=t.__rest(a,["Component","pageProps"]),m=n.useAmp(),_=r.useState(void 0),g=_[0],b=_[1],h=o.useRouter().route;if(r.useEffect((function(){t.__awaiter(void 0,void 0,void 0,(function(){return t.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch((null==s?void 0:s.checkApiUrl)||"/api/passwordCheck",{credentials:"include"})];case 1:return 200===e.sent().status?b(!0):b(!1),[3,3];case 2:return e.sent(),b(!1),[3,3];case 3:return[2]}}))}))}),[]),void 0===g)return null;var C=null!==(c=null===(d=null==s?void 0:s.bypassProtectionForRoute)||void 0===d?void 0:d.call(s,h))&&void 0!==c&&c;if(g||C)return l.default.createElement(i,e.default({Component:p,pageProps:f},v));if(m)return null;var P=(null==s?void 0:s.loginComponent)||u.LoginComponent;return l.default.createElement(P,e.default({apiUrl:null==s?void 0:s.loginApiUrl},(null==s?void 0:s.loginComponentProps)||{}))}};
//# sourceMappingURL=withPasswordProtect.js.map
