import o from"../../node_modules/@babel/runtime/helpers/esm/extends.js";import{__rest as e,__awaiter as n,__generator as r}from"../../node_modules/tslib/tslib.es6.js";import t,{useState as i,useEffect as l}from"react";import{useAmp as s}from"next/amp";import{useRouter as u}from"next/dist/client/router";import{LoginComponent as p}from"./LoginComponent.js";var m=function(m,a){return function(c){var d,v,f=c.Component,g=c.pageProps,h=e(c,["Component","pageProps"]),C=s(),b=i(void 0),P=b[0],x=b[1],j=u().route;if(l((function(){n(void 0,void 0,void 0,(function(){return r(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch((null==a?void 0:a.checkApiUrl)||"/api/passwordCheck",{credentials:"include"})];case 1:return 200===o.sent().status?x(!0):x(!1),[3,3];case 2:return o.sent(),x(!1),[3,3];case 3:return[2]}}))}))}),[]),void 0===P)return null;var U=null!==(v=null===(d=null==a?void 0:a.bypassProtectionForRoute)||void 0===d?void 0:d.call(a,j))&&void 0!==v&&v;if(P||U)return t.createElement(m,o({Component:f,pageProps:g},h));if(C)return null;var k=(null==a?void 0:a.loginComponent)||p;return t.createElement(k,o({apiUrl:null==a?void 0:a.loginApiUrl},(null==a?void 0:a.loginComponentProps)||{}))}};export{m as withPasswordProtect};
//# sourceMappingURL=withPasswordProtect.js.map
